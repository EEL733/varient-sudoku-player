/*! @license pzpr.js v8b9d45c (c) 2009-2025 sabo2, MIT license
 *   https://github.com/sabo2/pzprv3 */
!function(e,t){"object"==typeof module&&module.exports?module.exports=[e,t]:pzpr.classmgr.makeCustom(e,t)}(["framesudoku"],{MouseEvent:{inputModes:{edit:["number"],play:["number","clear"]},mouseinput_number:function(){!this.mousestart||this.puzzle.editmode&&this.inputqnum_excell()||this.inputqnum()},mouseinput_auto:function(){var e;this.puzzle.playmode?this.mousestart&&!(e=this.getcell_excell()).isnull&&"cell"===e.group&&this.inputqnum():this.puzzle.editmode&&this.mouseinput_number()},inputqnum_excell:function(){var e=this.getpos(0).getex();return!e.isnull&&(e!==this.cursor.getex()?this.setcursor(e):this.inputqnum_main(e),!0)}},KeyEvent:{enablemake:!0,enableplay:!0,keyinput:function(e){var t=this.cursor.getex();!t.isnull&&this.puzzle.editmode?this.key_inputqnum_main(t,e):this.key_inputqnum(e)}},TargetCursor:{initCursor:function(){this.init(-1,-1),this.adjust_init()},setminmax_customize:function(){this.puzzle.editmode||(this.minx+=2,this.miny+=2,this.maxx-=2,this.maxy-=2)}},Cell:{enableSubNumberArray:!0,maxnum:function(){return Math.max(this.board.cols,this.board.rows)}},ExCell:{minnum:function(){return 11},maxnum:function(){return 99}},Board:{cols:9,rows:9,hasborder:1,hasexcell:2,initBoardSize:function(e,t){var i,n;this.common.initBoardSize.call(this,e,t),i=n=2*(0|Math.sqrt(this.cols)),6===this.cols&&(i=6);for(var r=0;r<this.border.length;r++){var u=this.border[r];u.bx%i!=0&&u.by%n!=0||(u.ques=1)}this.rebuildInfo()},getFrameSum:function(e,t,i){for(var n=e.getaddr(),r=0,u=(n.by===this.minby+1?r=2:n.by===this.maxby-1?r=1:n.bx===this.minbx+1?r=4:n.bx===this.maxbx-1&&(r=3),this.board.roommgr.components),s=0,o=-1;0!==r;){n.movedir(r,2);var l=n.getc();if(l.isnull)break;var m=u.indexOf(l.room);if(-1!==o&&o!==m)break;s+=l.getNum(),o=m}return s}},AreaRoomGraph:{enabled:!0},Graphic:{gridcolor_type:"LIGHT",lightcolor:"rgb(255, 255, 127)",paint:function(){this.drawBGCells(),this.drawBGExCells(),this.drawTargetSubNumber(),this.drawGrid(),this.drawBorders(),this.drawSubNumbers(),this.drawAnsNumbers(),this.drawQuesNumbers(),this.drawNumbersExCell(),this.drawChassis(),this.drawCursor()},getBGCellColor:function(e){return 1===e.error?this.errbcolor1:1===e.qinfo?this.lightcolor:null},getBGExCellColor:function(e){return 1===e.error?this.errbcolor1:1===e.qinfo?this.lightcolor:null}},Encode:{decodePzpr:function(e){this.decodeNumber16ExCell(),this.decodeNumber16()},encodePzpr:function(e){this.encodeNumber16ExCell(),this.encodeNumber16()}},FileIO:{decodeData:function(){this.decodeCellExCellQnumAnumsub()},encodeData:function(){this.encodeCellExCellQnumAnumsub()},decodeCellExCellQnumAnumsub:function(){this.decodeCellExCell(function(e,t){"."!==t&&("excell"===e.group?e.qnum=+t:"cell"===e.group&&("q"===t[0]?e.qnum=+t.substr(1):"."!==(t=0<=t.indexOf("[")?this.setCellSnum(e,t):t)&&(e.anum=+t)))})},encodeCellExCellQnumAnumsub:function(){this.encodeCellExCell(function(e){if("excell"===e.group){if(-1!==e.qnum)return e.qnum+" "}else if("cell"===e.group){if(-1!==e.qnum)return"q"+e.qnum+" ";var t=".",i=e.anum;return-1!==i?t=""+i:t+=this.getCellSnum(e),t+" "}return". "})}},AnsCheck:{checklist:["checkDifferentNumberInRoom","checkDifferentNumberInLine","checkNoNumCell+","checkFrameSum"],checkFrameSum:function(){for(var e=this.board,t=!0,i=0;i<e.excell.length;i++){var n=e.excell[i];if(-1!==n.qnum){var r=e.getFrameSum(n);if(r!==n.qnum){if(t=!1,this.checkOnly)break;n.seterr(1)}}}t||this.failcode.add("nmFrameSumNe")}}});
//# sourceMappingURL=framesudoku.js.map